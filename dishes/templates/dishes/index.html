{% extends "base.html" %}
    {% load static %}

    {% block head_title %}The Cameroonian Table - Home{% endblock %}

    {% block content %}
        <!-- Hero Section -->
        <div class="hero-section">
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <h1>Experience Authentic Cameroonian Cuisine</h1>
                <p>Savor the rich, vibrant flavors from the heart of Africa. A culinary journey awaits you.</p>
            </div>
        </div>

        <!-- Gallery Section -->
        <div class="gallery-section" id="gallery-section">
            <h2 class="section-title">Our Gallery</h2>
            <div class="image-grid">
                <img src="https://i.pinimg.com/736x/c2/fe/47/c2fe47a9788f4ff2c1a272ddcbada5ed.jpg" alt="[Bculture picture scene 1]">
                <img src="https://i.pinimg.com/1200x/8f/a4/00/8fa40063836aba6f7ad86f4aebc55dc3.jpg" alt="[cultural picture scene 2]">
                <img src="https://i.pinimg.com/736x/18/d3/10/18d3102e58527d82295a9d108a101405.jpg" alt="[cultural picture scene 3]">
                <img src="https://i.pinimg.com/1200x/4c/5b/34/4c5b345f8aeff1c642156e2b579ba552.jpg" alt="[ cameroon's natinal dish ndoldé]">
                <img src="https://i.pinimg.com/736x/05/e9/bc/05e9bc57b93dc024a63694a4ee52381c.jpg" alt="[Flowers and spacy showing the ambiant and elegance of the place]">
                <img src="https://i.pinimg.com/736x/9b/ee/3b/9bee3b9f84f94155671ff3b43bfbcdc4.jpg" alt="[close shot bwith light talecloth and gold cutlery ]">
                <img src="https://i.pinimg.com/736x/1d/11/c8/1d11c859b37d1124b4ce7d0b1fe94fc4.jpg" alt="[african art picture ]">
                <img src="https://i.pinimg.com/1200x/3b/73/93/3b73939053eb9a7c8e0ff1351a84ee99.jpg" alt="[african dessert ]">
            </div>
        </div>

        <!-- Menu Section (Consolidated and Tabular) -->
        <div class="content-section" id="menu-section">
            <h2 class="section-title">Our Menu</h2>

            {% for category in categories %}
                <div class="category-menu-block" id="category-{{ category.id }}">
                    <h3>{{ category.name }}</h3>
                    <div class="menu-items-list">
                        {% for dish in dishes %}
                            {% if dish.category == category %}
                                <div class="menu-item">
                                    <span class="item-title">{{ dish.title }}</span>
                                    <span class="item-price">£{{ dish.price|floatformat:2 }}</span>
                                    <p class="item-description">{{ dish.description|truncatechars:100 }}</p>
                                </div>
                            {% endif %}
                        {% endfor %}
                        {% for drink in drinks %}
                            {% if drink.category == category %}
                                <div class="menu-item">
                                    <span class="item-title">{{ drink.title }}</span>
                                    <span class="item-price">£{{ drink.price|floatformat:2 }}</span>
                                    <p class="item-description">{{ drink.description|truncatechars:100 }}</p>
                                </div>
                            {% endif %}
                        {% endfor %}
                    </div>
                </div>
            {% empty %}
                <p class="no-items-message">No categories or menu items found yet. Please add some in the admin panel!</p>
            {% endfor %}
        </div>

        <!-- Our Story Section -->
        <div class="our-story-section" id="our-story-section">
            <h2 class="section-title">Our Story</h2>
            <p>Welcome to The Cameroonian Table, where every dish tells a story of heritage, passion, and the vibrant culinary traditions of Cameroon. Our journey began with a simple dream: to share the authentic flavors of our homeland with the world. From the bustling markets of Douala to the serene landscapes of the Mandara Mountains, Cameroonian cuisine is a rich tapestry of diverse influences, reflecting the country's unique position at the crossroads of Central and West Africa.</p>
            <p>We believe food is more than just sustenance; it's a celebration of culture, community, and connection. Our chefs meticulously prepare each meal using traditional recipes passed down through generations, combined with fresh, locally sourced ingredients whenever possible. We are committed to bringing you an authentic taste of Cameroon, whether it's the hearty goodness of Ndolé, the aromatic spices of Poulet DG, or the refreshing zest of our homemade juices.</p>
            <p>Thank you for joining us on this culinary adventure. We invite you to sit back, relax, and savor the true essence of The Cameroonian Table. Bon appétit!</p>
        </div>

        <!-- Reservation Section -->
        <div class="reservation-section" id="reservation-section">
            <h2>Book Your Table</h2>
            <p>Experience the warmth of Cameroonian hospitality. Reserve your table now!</p>
            
            <!-- Display messages -->
            {% if messages %}
                {% for message in messages %}
                    <div class="alert alert-{{ message.tags }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
            
            <form class="reservation-form" method="post">
                {% csrf_token %}
                <div class="form-group">
                    <label for="{{ form.name.id_for_label }}">Your Name:</label>
                    {{ form.name }}
                    {% if form.name.errors %}
                        <div class="error">{{ form.name.errors.0 }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="{{ form.email.id_for_label }}">Email:</label>
                    {{ form.email }}
                    {% if form.email.errors %}
                        <div class="error">{{ form.email.errors.0 }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="{{ form.phone.id_for_label }}">Phone:</label>
                    {{ form.phone }}
                    {% if form.phone.errors %}
                        <div class="error">{{ form.phone.errors.0 }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="{{ form.guests.id_for_label }}">Number of Guests:</label>
                    {{ form.guests }}
                    {% if form.guests.errors %}
                        <div class="error">{{ form.guests.errors.0 }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="{{ form.date.id_for_label }}">Date:</label>
                    {{ form.date }}
                    {% if form.date.errors %}
                        <div class="error">{{ form.date.errors.0 }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="{{ form.time.id_for_label }}">Time:</label>
                    {{ form.time }}
                    {% if form.time.errors %}
                        <div class="error">{{ form.time.errors.0 }}</div>
                    {% endif %}
                </div>
                <button type="submit" class="reservation-button full-width">Make Reservation</button>
            </form>
        </div>
    {% endblock content %}
    